{
  "version": "1.0.0",
  "title": "What if the remote service throws a fault?",
  "description": "If the remote service is unavailable what kind of response do we get.",
  "tags": ["controller"],
  "configuration": {
    "wiremock": {
      "host": "localhost",
      "port": 9090,
      "timeout": 10,
      "defaults": {
        "down": {
          "type": "lognormal",
          "median": 3000,
          "sigma": 0.2,
          "numberOfChunks": 4,
          "totalDuration": 5000
        }
      }
    }
  },
  "steady-state-hypothesis": {
    "title": "Application responds and wiremock server is running",
    "probes": [
      {
        "type": "probe",
        "name": "retrieve a stock price",
        "tolerance": 200,
        "provider": {
          "type": "http",
          "timeout": 3,
          "verify_tls": false,
          "url": "http://localhost:8080/stock-price/JBHT"
        }
      },
      {
        "type": "probe",
        "name": "Wiremock server is running",
        "tolerance": 200,
        "provider": {
          "type": "http",
          "method": "GET",
          "timeout": [1, 5],
          "url": "http://localhost:9090/__admin/mappings",
          "headers": {
            "Accept": "application/json"
          }
        }
      }
    ]
  },
  "method": [
    {
      "type": "probe",
      "name": "Noop Probe to satisfy Method section",
      "tolerance": 200,
      "provider": {
        "type": "http",
        "method": "GET",
        "timeout": [1, 5],
        "url": "http://localhost:9090/__admin/mappings",
        "headers": {
          "Accept": "application/json"
        }
      }
    }
  ],
  "rollbacks": [
  ]
}